import { Component, OnInit, ViewChild } from '@angular/core';
import { FormControl } from '@angular/forms';
import { Subscription } from 'rxjs';
import { PaginationComponent } from './pagination/pagination.component';

export interface PaginatedResponse<T> {
  items: T[];
  total: number;
}

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent implements OnInit  {
  @ViewChild('PaginationComponent') PaginationComponent!:PaginationComponent;
 
  private pagesub!:Subscription;
  private pagesizesub!:Subscription;
  
  ngOnInit(): void {
    this.pagesub=this.PaginationComponent.page$.subscribe(page=>this.page=page);
  }

  page:number=1;
  pageSize:number=10;
  private readonly items = Array.from(Array(100).keys(), (item) => item + 1);

  public visibleItems: PaginatedResponse<number> = {
    items: this.items.slice(0, 10),
    total: this.items.length,
  };

  public onPageChange(): void {
    const startIndex = (this.page - 1) * this.pageSize;

    const items = this.items.slice(
      startIndex,
      startIndex + this.pageSize
    );

    this.visibleItems = { items, total: this.items.length };
  }
}

Type 'unknown' is not assignable to type 'number'
