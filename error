import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';
import { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';


@Component({
  selector: 'app-pagination',
  templateUrl: './pagination.component.html',
  styleUrls: ['./pagination.component.css']
})
export class PaginationComponent implements OnInit
  
{
  @Input() total = 10;
  @Input() page = 5;
  @Input() pageSize = 5;

  public totalPages!: number;
  public visiblePages!: number[];
  public visibleRangeLength:number=5;
  pageSizes: number[] = [5, 10, 25, 50];

  ngOnInit(): void {
    this.updateVisiblePages();
  }

  public selectPage(page: number): void {
   this.page=page;
    this.updateVisiblePages();
    
  }

  public selectPageSize(pageSize: string): void {
   this.pageSize=+pageSize;
    this.updateTotalPages();
    this.updateVisiblePages();
    
  }

  private updateVisiblePages(): void {
    const length = Math.min(this.totalPages, this.visibleRangeLength);

    const startIndex = Math.max(
      Math.min(
        this.page - Math.ceil(length / 2),
        this.totalPages - length
      ),
      0
    );

    this.visiblePages = Array.from(
      new Array(length).keys(),
      (item) => item + startIndex + 1
    );
  }

  private updateTotalPages(): void {
    this.totalPages = Math.ceil(this.total / this.pageSize);
  }
}
Invalid array length
    at PaginationComponent.updateVisiblePages
