editor.html


<div id="pform" class="pform">
    <div *ngIf="! articleForm.controls.title?.valid && ( articleForm.controls.title?.touched)" id="error">
        <div >title is required</div>
    </div>
    <div *ngIf="! articleForm.controls.description.valid && ( articleForm.controls.description.dirty || articleForm.controls.description.touched)" id="error">
        <div >description is required</div>
    </div>
    <form [formGroup]="articleForm" (ngsubmit)="onSubmit()" id="form" class="form">
        <p id="ptitle" class="ptitle">
            <label for="title">title</label>
            <input type="text" id="title" name="title" formControlName="title">
        </p>
        

        <p id="pdescription" class="pdescription">
            <label for="des">description</label>
            <input type="text" id="description" name="description" formControlName="description">
        </p>
        

        <p id="ptags" class="ptags">
            <label for="tags">tags</label>
            <input type="text" id="tags" name="tags" formControlName="tags" (keydown)="enter($event)" [(ngModel)]="smalltag">
        </p>
        <div *ngIf="card.tags.length>0" #tagContainer></div>
        <p id="button" class="button">
            <button type="submit" [disabled]="!articleForm.valid">submit</button>
        </p>
      
              
        
    </form>
</div>




editor.ts
import { Component, ElementRef, ViewChild } from '@angular/core';
import { FormArray, FormBuilder, Validators } from '@angular/forms';
import { first } from 'rxjs';
import { Card } from 'src/model/card.model';

@Component({
  selector: 'app-editor',
  templateUrl: './editor.component.html',
  styleUrls: ['./editor.component.css']
})
export class EditorComponent {
  @ViewChild('tagContainer') tagContainer!:ElementRef;
  articleForm;
  smalltag = "";
  cardId = 1;
  card: Card = {
    cardId: 0,
    authorId: 0,
    title: '',
    description: '',
    tags: [],
    date: '',
    likes: 0
  }
  constructor(private formbuilder: FormBuilder) {
    this.articleForm = this.formbuilder.group({
      title: ["", [Validators.required]],
      description: ["", [Validators.required]],
      tags: [""]
    })
  };

addtag(temp:string){
 
const tag=document.createElement('span');
tag.innerText=temp;
this.tagContainer.nativeElement.appendChild(tag);
  }


  
  onSubmit() {
    this.card.cardId = this.cardId;
    this.card.authorId = Number(localStorage.getItem('userid'));
    this.card.title = this.articleForm.value.title ?? "";
    this.card.description = this.articleForm.value.description ?? "";
    this.card.date = new Date().toISOString();

    this.cardId++;
  }

  enter(event: any) {
    // console.log(event);

    if (event.key === "Enter" && this.smalltag.trim() != "") {

      this.card.tags.push(this.smalltag.trim());
      this.articleForm.get('tags')?.reset();
    this.addtag(this.smalltag.trim());

    }
    if (event.key === "Enter" && this.smalltag?.trim() == "") {
      this.articleForm.get('tags')?.reset();
    }
    console.log(this.card.tags);


  }


}




in this when i press enter key addtag method work ,work  of this method is to add span tag on each enter  key to div tag which we obtained using viewchild but it not working


