this is the app.html


<app-header id="header" *ngIf="!showmodal"></app-header>
<app-typing id="typing" *ngIf="!showmodal"></app-typing>
<app-modal id="modal" *ngIf="showmodal" ></app-modal>



this is the app.ts

import { Component, OnChanges, OnDestroy, OnInit, DoCheck, AfterContentChecked, AfterContentInit, AfterViewChecked, AfterViewInit, ViewChild, ElementRef, HostListener } from '@angular/core';
import { ParagraphService } from './paragraph.service';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent implements OnInit {
  title = 'practice'
 
  showmodal = false;


  

  constructor(private paragraphservice: ParagraphService) {
    

  }
  ngOnInit(): void {
    

    
    this.paragraphservice.modalchange.subscribe(res => {


      if (res == true) {
        this.showmodal=true;
        
      }else{
        this.showmodal=false;
      }
    })
  }
 
  

}


this is modal.html

<div>
    <div><input type="number" [(ngModel)]="inputval"></div>
    <div ><button (click)="onclick()">submit</button></div>
</div>



this is the modal.ts


import { Component } from '@angular/core';
import { ParagraphService } from 'app/paragraph.service';

@Component({
  selector: 'app-modal',
  templateUrl: './modal.component.html',
  styleUrls: ['./modal.component.css']
})

export class ModalComponent {
constructor(private paragraphservice:ParagraphService){

}
inputval:number=0;
onclick(){
  
  this.paragraphservice.valuechanged(this.inputval);
  this.paragraphservice.modalchanged(false);
;}
}



this is the header.html


<div *ngIf="!headervisible" #ref>
<input type="radio" id="time" name="type" value="time" checked="checked" [(ngModel)]="selectedtype">
<label for="time">time</label>
<input type="radio" id="word" name="type" value="word" [(ngModel)]="selectedtype">
<label for="word">word</label>
<span class="v1"></span>

<input type="radio" name="timevalue" id="time15" value=15 checked="checked" *ngIf="selectedtype=='time'" (change)="change($event)">
<label for="time15" *ngIf="selectedtype=='time'">15</label>
<input type="radio" name="timevalue" id="time30" value=30 *ngIf="selectedtype=='time'"  (change)="change($event)">
<label for="time30" *ngIf="selectedtype=='time'">30</label>
<input type="radio" name="timevalue" id="time60" value=60 *ngIf="selectedtype=='time'"  (change)="change($event)">
<label for="time60" *ngIf="selectedtype=='time'">60</label>
<input type="radio" name="timevalue" id="time120" value=120 *ngIf="selectedtype=='time'"  (change)="change($event)">
<label for="time120" *ngIf="selectedtype=='time'">120</label>
<input type="radio" name="timevalue" id="timecustom" value=0 *ngIf="selectedtype=='time'"  (change)="change($event)">
<label for="timecustom" *ngIf="selectedtype=='time'">custom</label>

<input type="radio" name="wordvalue" id="word10" value=10 checked="checked" *ngIf="selectedtype=='word'">
<label for="word10" *ngIf="selectedtype=='word'">10</label>
<input type="radio" name="wordvalue" id="word25" value=25 *ngIf="selectedtype=='word'">
<label for="word25" *ngIf="selectedtype=='word'">25</label>
<input type="radio" name="wordvalue" id="word50" value=50 *ngIf="selectedtype=='word'">
<label for="word50" *ngIf="selectedtype=='word'">50</label>
<input type="radio" name="wordvalue" id="word100" value=100 *ngIf="selectedtype=='word'">
<label for="word100" *ngIf="selectedtype=='word'">100</label>
<input type="radio" name="wordvalue" id="wordcustom" value=0 *ngIf="selectedtype=='word'">
<label for="wordcustom" *ngIf="selectedtype=='word'">custom</label>
</div>
<!-- <div id="modal" #modal>
 <input type="number">
 <button>ok</button>
</div> -->


this is the header.ts

import { AfterViewInit, Component, ElementRef, OnChanges, OnInit, ViewChild } from '@angular/core';
import { ParagraphService } from 'app/paragraph.service';

@Component({
  selector: 'app-header',
  templateUrl: './header.component.html',
  styleUrls: ['./header.component.css']
})
export class HeaderComponent implements OnInit {
constructor(private paragraphservice:ParagraphService){

}

openmodal:boolean=false;
  ngOnInit(): void {
  
    
   this.paragraphservice.headerchange.subscribe(res=>this.headervisible=res);
  //  console.log(this.headervisible);
   
  }
selectedtype:string="time";
timer:number=15;
headervisible:boolean=false;
  
change(event:any){
  console.log(event.target.value);
  
  if(event.target.value!=0){
  this.timer=event.target.value;
  this.paragraphservice.valuechanged(event.target.value)}
  else{
    // const header: HTMLDivElement = this.header.nativeElement;
    // const modal: HTMLDivElement = this.modal.nativeElement;
    // modal.style.opacity="1";
    // header.style.opacity="0";
this.openmodal=true;
this.paragraphservice.modalchanged(this.openmodal);
  }
  
}
  

}
this is the header.ts

in this initialize radio button selected 15 deafault but when click custom then input box come and on entering value and click on submint button header and typing component again visible but value selected is 15 so i think it reinitialized that component so that value change
