create or replace function studentsearch(studentid int default null, studentname varchar default null, studentmark int default null, sort varchar default 'studentname', pageno int default 1, pagetotal int default 5)
  returns table( student_id INT, student_name varchar, student_mark int) AS
$$
declare 
	tempr text;
begin
	
	 tempr='select student.studentid, student.studentname, student.studentmark from student where 1=1'
	|| case when studentid is not null then ' and studentid=$1 ' else '' end
	|| case when studentname is not null then ' and studentname=$2 ' else '' end
	|| case when studentmark is not null then ' and studentmark=$3 ' else '' end
    || ' order by '||sort||' offset ($4- 1) * $5 fetch next $5 row only ';
    return QUERY execute  tempr using studentid, studentname, studentmark,  pageno, pagetotal ;
   raise notice '%',tempr ;
end;
$$
  language plpgsql ;

select * from studentsearch(studentname=>'z' );

: ERROR: relation "student" does not exist
  Where: PL/pgSQL function studentsearch(integer,character varying,integer,character varying,integer,integer) line 11 at RETURN QUERY

